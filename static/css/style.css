/* =========================================================
   HangPy IDE — VSCode-like Dark Theme CSS
   Works with: header/.wrap/.panel/.toolbar
              .editor-wrap #gutter.gutter #editor.codearea
              #output.codearea  #consoleInput  #btnSend
   ========================================================= */

:root{
  --bg: #1e1e1e;           /* VSCode editor background */
  --surface: #252526;      /* panels */
  --surface-2: #2d2d2d;    /* toolbars / inputs */
  --line: #3c3c3c;         /* borders */
  --text: #d4d4d4;         /* main text */
  --muted: #9aa4b2;        /* secondary text */
  --accent: #0e639c;       /* VSCode button blue */
  --accent-2: #007acc;     /* VSCode cyan-blue */
  --danger: #f14c4c;       /* VSCode red-ish */
  --radius: 12px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* Typography */
  --ui-font: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --mono-font: ui-monospace, SFMono-Regular, Menlo, Consolas, "JetBrains Mono", "Fira Code", monospace;

  /* Editor baseline alignment */
  --mono-size: 14px;
  --mono-line: 22px;     /* fixed px for perfect gutter alignment */
  --pad-y: 12px;         /* top padding shared */
  --pad-x: 12px;
  --gutter-w: 56px;
}

/* ---------- Base ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font: 14px/1.6 var(--ui-font);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------- Layout ---------- */
header, footer, .wrap{
  max-width: 1180px;
  margin: 0 auto;
  padding: 0 18px;
}

header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 16px;
  margin: 18px auto 12px;
}

h1{
  margin:0;
  font-size: 18px;
  font-weight: 700;
  letter-spacing: .2px;
}

.status{
  font-size: 12px;
  color: var(--muted);
  background: rgba(255,255,255,.03);
  border: 1px solid var(--line);
  padding: 6px 10px;
  border-radius: 999px;
}

.wrap{
  display:grid;
  gap: 14px;
  margin: 12px auto 26px;
  grid-template-columns: 1fr;
}

@media (min-width: 980px){
  .wrap{ grid-template-columns: 1.2fr .8fr; }
}

footer{
  color: var(--muted);
  font-size: 12px;
  margin: 10px auto 22px;
}

/* ---------- Panels ---------- */
.panel{
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 12px;
  display:flex;
  flex-direction:column;
  min-height: 520px;
}

/* Optional section headings */
.panel h3{
  margin: 4px 2px 10px;
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
}

/* ---------- Toolbar & Buttons ---------- */
.toolbar{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 8px;
  margin: 4px 0 10px;
}

button{
  appearance:none;
  border: 1px solid var(--line);
  background: #2a2a2a;
  color: var(--text);
  padding: 8px 12px;
  border-radius: 10px;
  cursor:pointer;
  font-weight: 650;
  font-size: 13px;
  transition: background .15s ease, transform .06s ease, opacity .15s ease, border-color .15s ease;
}
button:hover{ background:#333333; border-color:#4a4a4a; }
button:active{ transform: translateY(1px); }
button:disabled{ opacity:.55; cursor:not-allowed; }

button.primary{
  background: var(--accent);
  border-color: transparent;
  color: #fff;
}
button.primary:hover{ filter: brightness(1.05); }

button.danger{
  background: var(--danger);
  border-color: transparent;
  color: #fff;
}
button.danger:hover{ filter: brightness(1.05); }

:where(button, textarea, input):focus-visible{
  outline: 2px solid var(--accent-2);
  outline-offset: 2px;
}

/* ---------- VSCode-like Editor ---------- */
.editor-wrap{
  display:grid;
  grid-template-columns: var(--gutter-w) 1fr;
  border: 1px solid var(--line);
  border-radius: 12px;
  overflow:hidden;
  background: var(--bg);
  min-height: 520px;
}

/* Gutter */
.gutter{
  margin:0;
  width: var(--gutter-w);
  background: #1b1b1b;
  color: #858585;                 /* VSCode line number tone */
  border-right: 1px solid var(--line);

  font-family: var(--mono-font);
  font-size: var(--mono-size);
  line-height: var(--mono-line);

  padding: var(--pad-y) 10px var(--pad-y) 8px;
  text-align: right;
  user-select:none;
  overflow:hidden;
  white-space:pre;
}

/* Code area shared (editor + output) */
.codearea{
  font-family: var(--mono-font);
  font-size: var(--mono-size);
  line-height: var(--mono-line);
  letter-spacing: 0;

  width:100%;
  height:100%;
  border: none;
  outline: none;
  resize: none;
  background: transparent;
  color: var(--text);

  padding: var(--pad-y) var(--pad-x);
  white-space: pre;
  overflow:auto;
  tab-size: 2;

  caret-color: var(--accent-2);
}

.codearea::placeholder{
  color: rgba(212,212,212,.45);
}

/* Output console: slightly different background */
#output.codearea{
  background: #1b1b1b;
  border: 1px solid var(--line);
  border-radius: 12px;
  min-height: 380px;
}

/* ---------- Console input row ---------- */
#consoleInput{
  width:100%;
  border: 1px solid var(--line);
  background: #1b1b1b;
  color: var(--text);
  padding: 10px 12px;
  border-radius: 10px;
  font: 13px/1.2 var(--mono-font);
}
#consoleInput::placeholder{
  color: rgba(212,212,212,.45);
}

#btnSend{
  border-radius: 10px;
}

/* If you used an inline wrapper div for console input row */
.panel > div[style*="margin-top:12px"]{
  gap: 8px !important;
}

/* ---------- Scrollbars (VSCode-ish) ---------- */
.codearea::-webkit-scrollbar{ width: 10px; height: 10px; }
.codearea::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.18);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.codearea::-webkit-scrollbar-thumb:hover{
  background: rgba(255,255,255,.28);
}
.codearea::-webkit-scrollbar-track{
  background: transparent;
}

/* ---------- Small polish ---------- */
.panel, .editor-wrap, #output.codearea{
  backdrop-filter: blur(0px);
}

a{ color: var(--accent-2); text-decoration: none; }
a:hover{ text-decoration: underline; }

.fab{
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  z-index: 9999;

  border: 1px solid var(--line);
  background: rgba(45,45,45,.92);
  color: var(--text);
  box-shadow: var(--shadow);
}

.fab:hover{ filter: brightness(1.08); }
.fab:active{ transform: translateY(1px); }

.fab-dot{
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--accent-2);
  box-shadow: 0 0 0 3px rgba(255,255,255,.08);
}

/* 작은 화면에서 키보드/콘솔 가리지 않게 살짝 올림 */
@media (max-width: 520px){
  .fab{ bottom: 90px; }
}

/* =========================================================
   Themes (override only CSS variables)
   Apply by: document.documentElement.dataset.theme = "..."
   ========================================================= */

/* 기본값은 이미 :root 에 있으므로 여기서는 추가 테마만 정의 */

/* Light */
:root[data-theme="divapink"]{
  /* Backgrounds */
  --bg: #140b12;          /* 아주 어두운 자주-블랙 */
  --surface: #1c0f18;     /* 패널 */
  --surface-2: #26121f;   /* 툴바/입력 */

  /* Lines */
  --line: #3a1a2d;

  /* Text */
  --text: #f6eaf1;
  --muted: #c7a6b8;

  /* Accents */
  --accent: #ff4fa3;     /* 메인 버튼 (Diva Pink) */
  --accent-2: #ff79bd;   /* 커서/포커스/포인트 */
  --danger: #ff5c7a;

  /* Shadow */
  --shadow: 0 10px 30px rgba(255,79,163,.25);
}
